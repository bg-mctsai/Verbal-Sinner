《嘴砲王者》網頁遊戲開發技術規格書

一、 介面顯示規範 (UI/UX Design)

網頁將採用響應式設計，確保在手機與電腦上皆有良好的對話體驗。

1. 遊戲畫面佈局 (Layout)

頂部狀態列 (Status Bar)：

Player_EQ: 顯示目前累積點數，帶有金幣圖示。

Chapter_Title: 當前章節與關卡名稱。

視覺劇場區 (Story Theater):

動態場景圖: 佔據螢幕上半部，顯示當前關卡的場景圖。

NPC 形象與表情: 位於場景中央或側面，隨情緒變動更換表情貼圖。

情緒量表 (Emotion Meter): 位於 NPC 頭像上方，具備動態粒子特效。

劇情對話流 (Dialogue Scroll):

採用半透明背景的氣泡設計，不遮擋場景美學。

玩家訊息置右，NPC 與旁白置左或置中。

控制與輸入區 (Control Area):

語音切換開關: 讓玩家可選擇開啟/關閉角色配音。

文字輸入框: 支援語音輸入功能（Speech-to-Text）。

2. 視覺資產規範 (Visual Assets)

每一章節應具備專屬的環境圖與角色立繪，並具備以下情緒變體：

背景圖 (Backgrounds): 提供「常態、黃昏、崩潰（黑白/扭曲）」三種變體。

角色表情 (Sprites):

Normal: 預設狀態。

Agitated: 被激怒、流汗。

Broken: 泛淚、眼神呆滯。

Defeated: 徹底崩潰（破關瞬間）。

二、 語音與音效系統 (Audio System)

1. AI 角色配音 (TTS - Text to Speech)

利用 gemini-2.5-flash-preview-tts 模型，為不同 NPC 賦予專屬聲音：

小美 (5歲): 使用 Kore 或 Puck，設定為「童稚、尖銳、帶有鼻音」。

陳老師 (35歲): 使用 Zephyr，設定為「嚴肅、充滿教條感」。

哲學大師 (老人): 使用 Charon，設定為「低沈、有回音、緩慢」。

2. 音效觸發邏輯 (SFX Triggers)

扎心聲: 玩家命中弱點時，播放「玻璃破碎」或「尖銳打擊音」。

崩潰 BGM: 當 NPC 情緒低於 20% 時，背景音樂轉為鋼琴單音或淒涼的提琴。

UI 音效: 按鈕點擊、點數增加的清脆音。

三、 Firebase 資料架構 (Firestore Schema)

1. 公共資料 (Public Data)

/artifacts/{appId}/public/data/chapters

content: { title, intro_text, bg_url: "場景圖連結", voice_id: "配音模型ID" }

/artifacts/{appId}/public/data/npcs

content: { name, sprites: { normal: "URL", broken: "URL" }, initial_sanity: 100 }

2. 使用者私有資料 (User Private Data)

/artifacts/{appId}/users/{userId}/profile

data: { age, total_eq, progress_marker: "chap1_lv4" }

四、 技術實作流程 (Technical Flow)

解析文字: 玩家送出對話，Gemini 分析語義。

生成語音: * 呼叫 Google Search 獲取內容後（或直接生成對話）。

將 NPC 回話文字送入 TTS 模型獲取音頻二進位資料。

前端將 PCM16 轉換為 WAV 並播放。

同步視覺: 語音播放時，同步觸發 NPC 頭像的張嘴動畫 (Lip-sync)。

結算效果: 若 damage 高於特定值，觸發畫面震動與場景變色。

五、 開發優先級 (Roadmap)

Phase 1: 基礎 UI 與 Firebase Auth。

Phase 2: 整合 Gemini 對話與 TTS 語音模組。

Phase 3: 導入場景圖素材與角色表情切換邏輯。

Phase 4: 全年齡段 100 關卡的劇情與語音調優。

「看見她的淚水，聽見她的哭聲——這是重生之路上最昂貴的代價。」

* 
* 
* Go to[ ] Page
