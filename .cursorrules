# Commit 訊息規則

## 自動生成 Commit 訊息規範
- **長度限制**：Commit 訊息必須簡短，控制在 30-50 字以內
- **語言**：使用繁體中文
- **格式**：
  - **基本格式**：`[技術層面][功能名稱]` + 動詞開頭 + 簡要說明（例如：「[前端][行事曆] 修正按鈕樣式」、「[後端][API] 更新端點」）
  - **多項變更格式**：主要訊息 + 編號列表補充
    ```
    [前端][行事曆] 更新樣式與功能
    
    1. 修正按鈕排列邏輯
    2. 更新 CSS 版本號
    3. 優化日曆顯示
    ```
- **標籤規則**：必須使用兩個標籤，格式固定為 `[技術層面][功能名稱]`
  - **第一個標籤（技術層面）**：必須使用 `[前端]` 或 `[後端]`
    - `adminWeb/` 目錄下的檔案 → `[前端]`
    - `functions/` 目錄下的檔案 → `[後端]`
  - **第二個標籤（功能名稱）**：根據變更檔案的**路徑和內容**判斷具體功能
    - 例如：[行事曆]、[報表]、[客戶管理]、[預約系統]、[權限管理]、[API]、[資料庫]、[LINE Bot]、[命令處理]
  - **檔案路徑判斷範例**：
    - `adminWeb/css/calendar.css`、`adminWeb/js/pages/page_calendar.js` → `[前端][行事曆]`
    - `adminWeb/js/pages/page_reports.js` → `[前端][報表]`
    - `adminWeb/js/pages/page_customer.js` → `[前端][客戶管理]`
    - `functions/handlers/lineHandler.js` → `[後端][LINE Bot]`
    - `functions/utils/commands/handcmdUtil.js` → `[後端][命令處理]`
    - `functions/handlers/appointmentHandler.js` → `[後端][預約系統]`
- **內容要求**：
  - **主要訊息**：只描述核心變更，控制在 30-50 字以內
  - **多項變更**：如果變更項目超過 2 個，可在主要訊息後使用編號列表補充
  - 編號列表格式：使用 `1. ...`、`2. ...`、`3. ...` 等格式
  - 每個編號項目保持簡短，避免冗長描述
  - 不要包含技術細節或實作方式
- **範例**：
  - ✅ 好（單項變更）：「[前端][行事曆] 更新 CSS 樣式，修正按鈕排列」
  - ✅ 好（單項變更）：「[後端][API] 修正預約查詢端點」
  - ✅ 好（多項變更）：
    ```
    [前端][行事曆] 更新樣式與功能
    
    1. 修正按鈕排列邏輯
    2. 更新 CSS 版本號
    3. 優化日曆顯示
    ```
  - ✅ 好（多項變更）：
    ```
    [後端][API] 優化查詢功能
    
    1. 修正預約查詢端點
    2. 新增錯誤處理機制
    3. 優化回應速度
    ```
  - ❌ 不好：「[前端] 更新 CSS 版本,調整按鈕排列邏輯」（缺少功能標籤，應改為 `[前端][行事曆]`）
  - ❌ 不好：「[行事曆] 更新 CSS 樣式」（缺少技術層面標籤，應改為 `[前端][行事曆]`）
  - ❌ 不好：「更新 CSS 和 HTML 文件,調整樣式版本號,優化按鈕排列邏輯,確保請假和新增預約按鈕在日曆中正示。強化按鈕容器的 flex 排版,提升用戶界面的一致性和可用性。」

## 生成原則
當使用 AI 自動生成 commit 訊息時，必須：
1. **判斷技術層面標籤（第一個標籤）**：
   - 檢查檔案路徑，判斷屬於前端或後端
   - `adminWeb/` 目錄 → `[前端]`
   - `functions/` 目錄 → `[後端]`
2. **判斷功能標籤（第二個標籤）**：
   - 檢查檔案路徑和內容，判斷具體功能（如行事曆、報表、API 等）
   - 如果變更涉及多個功能，選擇最主要的一個
3. **組合標籤**：
   - 格式固定為：`[技術層面][功能名稱]`
   - 例如：`[前端][行事曆]`、`[後端][API]`
4. **判斷是否需要編號列表**：
   - 如果變更項目只有 1-2 個，直接寫在主要訊息中
   - 如果變更項目超過 2 個，使用編號列表補充
5. **撰寫主要訊息**：
   - 用最簡潔的語言描述核心變更
   - 控制在 30-50 字以內（包含標籤）
6. **撰寫編號列表**（如需要）：
   - 使用 `1. ...`、`2. ...`、`3. ...` 格式
   - 每個項目保持簡短，一行一個
   - 移除所有冗詞和技術細節

